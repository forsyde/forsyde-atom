\documentclass{standalone}
\usepackage{forsyde-pc}
\usepackage{forsyde-math}
\begin{document}

\begin{tikzpicture}[nomoccolor, type style = \scriptsize\texttt]
  \primitive[f=$pc$]{p1}{0,3}{$\mapS$};
  \primitive[]{p2}{1.5,1.5}{$\applS$};
  \primitive[]{p3}{3,0}{$\applS$};
  \primitive[]{p4}{4,0}{$\funzip$};
  \node[] (in1) at ($(p1)-(1,0)$) {$\vect{v}_{1}$};
  \node[] (in2) at ($(p2)-(2.5,0)$) {$\vect{s_i}_{1}$};
  \node[] (in3) at ($(p3)-(4,0)$) {$\vect{s_i}_{n}$};
  \node[] (ou1) at ($(p4)+(2,2.25)$) {$\vect{s_o}_{1}$};
  \node[] (ou2) at ($(p4)+(2,1.5)$) {$\vect{s_o}_{2}$};
  \node[] (ou3) at ($(p4)+(2,0)$) {$\vect{s_o}_{m}$};
  \node[anchor=south] at (p2.north) {$\vect{p}$};
  \node[] at ($(in1)!.5!(in2)$) {$\vdots$}; 
  \node[] at ($(in2)!.5!(in3)$) {$\vdots$}; 
  \node[] at ($(ou2)!.5!(ou3)$) {$\vdots$};
  \node[] at ($(p1)!.5!(p2)$) {$\cdots$};
  \node[] at ($(p2)!.5!(p3)$) {$\cdots$};
  \vector[] (in1) -> (p1); 
  \vector[] (in2) -> (p2);
  \vector[] (in3) -> (p3);
  \vector[] (p1) -> ($(p1)!.3!(p2)$);
  \vector[] ($(p1)!.7!(p2)$) -> (p2);
  \vector[] (p2) -> ($(p2)!.3!(p3)$);
  \vector[] ($(p2)!.7!(p3)$) -> (p3);
  \vector[] (p3) -> (p4);
  \vector[] (p4) - ($(ou1)-(1,0)$); \vector[] ($(ou1)-(1.03,0)$) -> (ou1);
  \vector[] (p4) - ($(ou2)-(1,0)$); \vector[] ($(ou2)-(1.03,0)$) -> (ou2);
  \vector[] (p4) -> (ou3);
  
  \node[] (eq) at ($(ou1)!.5!(ou3)+(1,0)$) {$\equiv$};

  \foreach \i/\y in {1/4, 2/2.5, q/0} {
    \leafstd[type=pc, nf=1, f1={$v^p$},inner sep=8pt] {p\i} {10,\y} {$p_\i$};
    \signaln[] ($(p\i -p.i1)-(1,0)$) -> (p\i -p.i1);
    \signaln[] (p\i -p.o1) -> ($(p\i -p.o1)+(1,0)$);
    \function[-|] ($(p\i -p.i1)-(1.5,-.8)$) -> (p\i -f.i1); 
  }

  \vectorn[] ($(p1-p.i1)-(1,-.3)$) - ($(pq-p.i1)-(1,.3)$);
  \vectorn[] ($(p1-p.i1)-(1.5,-1)$) - ($(pq-p.i1)-(1.5,-.5)$);
  \vectorn[] ($(p1-p.o1)+(1.02,.3)$) - ($(pq-p.o1)+(1.05,-.3)$);
  
  \node[anchor=north east] at ($(pq-p.i1)-(1,.3)$) {$\vect{s_i}^n$};
  \node[anchor=north east] at ($(pq-p.i1)-(1.5,-.5)$) {$\vect{v}^p$};
  \node[anchor=north west] at ($(pq-p.o1)+(1.05,-.3)$) {$\vect{s_o}^m$};

\end{tikzpicture}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
