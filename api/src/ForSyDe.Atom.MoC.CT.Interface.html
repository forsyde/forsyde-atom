<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE PostfixOperators #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# OPTIONS_HADDOCK hide #-}</span><span>
</span><a name="line-3"></a><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">ForSyDe.Atom.MoC.CT.Interface</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-5"></a><span>
</span><a name="line-6"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.html"><span class="hs-identifier">ForSyDe.Atom.MoC</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.html#-.-"><span class="hs-operator hs-var">-.-</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.html#-%2A-"><span class="hs-operator hs-var">-*-</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-7"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html"><span class="hs-identifier">ForSyDe.Atom.MoC.CT.Core</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">CT</span><span>
</span><a name="line-8"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html"><span class="hs-identifier">ForSyDe.Atom.MoC.DE.Core</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">DE</span><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Interface.html"><span class="hs-identifier">ForSyDe.Atom.MoC.DE.Interface</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.DE.Interface.html#toCT1"><span class="hs-identifier hs-var">toCT1</span></a><span class="hs-special">)</span><span>
</span><a name="line-10"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.Stream.html"><span class="hs-identifier">ForSyDe.Atom.MoC.Stream</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.MoC.Time.html"><span class="hs-identifier">ForSyDe.Atom.MoC.Time</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-12"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.html"><span class="hs-identifier">ForSyDe.Atom.Skeleton.Vector</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">V</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-13"></a><span>  </span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">Vector</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Interface.html#zipx"><span class="hs-identifier hs-var">zipx</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Interface.html#unzipx"><span class="hs-identifier hs-var">unzipx</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Lib.html#fanout"><span class="hs-identifier hs-var">fanout</span></a><span class="hs-special">,</span><span> </span><span class="hs-keyword">unit</span><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Lib.html#length"><span class="hs-identifier hs-var">length</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#vector"><span class="hs-identifier hs-var">vector</span></a><span class="hs-special">)</span><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><a href="ForSyDe.Atom.Utility.html"><span class="hs-identifier">ForSyDe.Atom.Utility</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24%24"><span class="hs-operator hs-var">$$$</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24%24%24"><span class="hs-operator hs-var">$$$$</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-15"></a><span>
</span><a name="line-16"></a><span>
</span><a name="line-17"></a><span class="hs-comment">------- DOCTEST SETUP -------</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-comment">-- $setup</span><span>
</span><a name="line-20"></a><span class="hs-comment">-- &gt;&gt;&gt; import ForSyDe.Atom.MoC.Stream (takeS)</span><span>
</span><a name="line-21"></a><span class="hs-comment">-- &gt;&gt;&gt; import ForSyDe.Atom.MoC.DE.Lib as DE</span><span>
</span><a name="line-22"></a><span class="hs-comment">-- &gt;&gt;&gt; import ForSyDe.Atom.MoC.CT.Lib as CT</span><span>
</span><a name="line-23"></a><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.Number.FixedFunctions as RatF</span><span>
</span><a name="line-24"></a><span class="hs-comment">-- &gt;&gt;&gt; let pi'  = realToFrac pi</span><span>
</span><a name="line-25"></a><span class="hs-comment">-- &gt;&gt;&gt; let sin' = RatF.sin 0.001</span><span>
</span><a name="line-26"></a><span class="hs-comment">-- &gt;&gt;&gt; let cos' = RatF.cos 0.001</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span>
</span><a name="line-29"></a><span class="hs-comment">------- MoC INTERFACES -------</span><span>
</span><a name="line-30"></a><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span class="hs-comment">-- | Translates a (set of) 'ForSyDe.Atom.MoC.CT.CT' signal(s) into</span><span>
</span><a name="line-33"></a><span class="hs-comment">-- 'ForSyDe.Atom.MoC.DE.DE' semantics without loss of information. In</span><span>
</span><a name="line-34"></a><span class="hs-comment">-- 'ForSyDe.Atom.MoC.DE.DE', the abstract function of time inferred by</span><span>
</span><a name="line-35"></a><span class="hs-comment">-- the 'ForSyDe.Atom.MoC.CT.CT' event loses its abstraction and it is</span><span>
</span><a name="line-36"></a><span class="hs-comment">-- &quot;dropped&quot; to explicit form, under a lower layer. In other words the</span><span>
</span><a name="line-37"></a><span class="hs-comment">-- implicit time semantics are lost, the carried value simply becoming</span><span>
</span><a name="line-38"></a><span class="hs-comment">-- an ordinary function.</span><span>
</span><a name="line-39"></a><span class="hs-comment">--</span><span>
</span><a name="line-40"></a><span class="hs-comment">-- Constructors: @toDE[1-4]@.</span><span>
</span><a name="line-41"></a><span class="hs-comment">--</span><span>
</span><a name="line-42"></a><span class="hs-comment">-- &lt;&lt;fig/moc-ct-tode.png&gt;&gt;</span><span>
</span><a name="line-43"></a><span class="hs-identifier">toDE1</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126252"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679126252"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-44"></a><a name="toDE1"><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier">toDE1</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#CT"><span class="hs-identifier hs-var">CT</span></a><span> </span><a name="local-6989586621679126253"><a href="#local-6989586621679126253"><span class="hs-identifier">ts</span></a></a><span> </span><a name="local-6989586621679126254"><a href="#local-6989586621679126254"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679126255"><a href="#local-6989586621679126255"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#DE"><span class="hs-identifier hs-var">DE</span></a><span> </span><a href="#local-6989586621679126253"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679126256"><a href="#local-6989586621679126256"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679126255"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679126256"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679126254"><span class="hs-identifier hs-var">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-45"></a><a name="toDE2"><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE2"><span class="hs-identifier">toDE2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">)</span><span>
</span><a name="line-46"></a><a name="toDE3"><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE3"><span class="hs-identifier">toDE3</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24%24"><span class="hs-operator hs-var">$$$</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">)</span><span>
</span><a name="line-47"></a><a name="toDE4"><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE4"><span class="hs-identifier">toDE4</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Utility.Tuple.html#%24%24%24%24"><span class="hs-operator hs-var">$$$$</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#toDE1"><span class="hs-identifier hs-var">toDE1</span></a><span class="hs-special">)</span><span>
</span><a name="line-48"></a><span>
</span><a name="line-49"></a><span class="hs-comment">-- | Synchronizes a (set of) 'ForSyDe.Atom.MoC.CT.CT' signal(s) with a</span><span>
</span><a name="line-50"></a><span class="hs-comment">-- 'ForSyDe.Atom.MoC.DE.DE' carrier which holds the timestamps at</span><span>
</span><a name="line-51"></a><span class="hs-comment">-- which the CT signal must be sampled, and outputs the respective</span><span>
</span><a name="line-52"></a><span class="hs-comment">-- (set of) 'ForSyDe.Atom.MoC.DE.DE' signal(s).</span><span>
</span><a name="line-53"></a><span class="hs-comment">--</span><span>
</span><a name="line-54"></a><span class="hs-comment">-- Constructors: @sampDE[1-4]@.</span><span>
</span><a name="line-55"></a><span class="hs-comment">--</span><span>
</span><a name="line-56"></a><span class="hs-comment">-- &gt;&gt;&gt; let s = CT.infinite (fromRational . sin')</span><span>
</span><a name="line-57"></a><span class="hs-comment">-- &gt;&gt;&gt; let c = DE.generate1 id (pi'/2, 1)</span><span>
</span><a name="line-58"></a><span class="hs-comment">-- &gt;&gt;&gt; takeS 6 $ sampDE1 c s</span><span>
</span><a name="line-59"></a><span class="hs-comment">-- { 0.0 @0s, 1.0 @1.570796326794s, 1.793238520564752e-12 @3.141592653588s, -1.0 @4.712388980382s, 0.0 @6.283185307176s, 1.0 @7.85398163397s}</span><span>
</span><a name="line-60"></a><span class="hs-comment">--</span><span>
</span><a name="line-61"></a><span class="hs-comment">-- &lt;&lt;fig/moc-ct-sampde.png&gt;&gt;</span><span>
</span><a name="line-62"></a><span class="hs-identifier">sampDE2</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126249"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-comment">-- ^ 'ForSyDe.Atom.MoC.DE.DE' timestamp carrier </span><span>
</span><a name="line-63"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126250"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ 'ForSyDe.Atom.MoC.CT.CT' input</span><span>
</span><a name="line-64"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126251"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-comment">-- ^ 'ForSyDe.Atom.MoC.CT.CT' input</span><span>
</span><a name="line-65"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126250"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126251"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ 'ForSyDe.Atom.MoC.DE.DE' outputs</span><span>
</span><a name="line-66"></a><span class="hs-identifier">sampDE1</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126247"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-67"></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126248"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-68"></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126248"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-69"></a><span class="hs-identifier">sampDE3</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126243"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-70"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126244"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126245"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126246"><span class="hs-identifier hs-type">c</span></a><span>
</span><a name="line-71"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126244"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126245"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126246"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-72"></a><span class="hs-identifier">sampDE4</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126238"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-73"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126239"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126240"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126241"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126242"><span class="hs-identifier hs-type">d</span></a><span>
</span><a name="line-74"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126239"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126240"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126241"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#Signal"><span class="hs-identifier hs-type">DE.Signal</span></a><span> </span><a href="#local-6989586621679126242"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><a name="sampDE1"><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier">sampDE1</span></a></a><span> </span><a name="local-6989586621679126257"><a href="#local-6989586621679126257"><span class="hs-identifier">carrier</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679126258"><span class="hs-identifier hs-var">evalEvent</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679126259"><span class="hs-identifier hs-var">sync</span></a><span> </span><a href="#local-6989586621679126257"><span class="hs-identifier hs-var">carrier</span></a><span>
</span><a name="line-77"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679126258"><a href="#local-6989586621679126258"><span class="hs-identifier">evalEvent</span></a></a><span> </span><a name="local-6989586621679126260"><a href="#local-6989586621679126260"><span class="hs-identifier">e</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#CT"><span class="hs-identifier hs-var">CT</span></a><span> </span><a name="local-6989586621679126261"><a href="#local-6989586621679126261"><span class="hs-identifier">ts</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="ForSyDe.Atom.MoC.DE.Core.html#DE"><span class="hs-identifier hs-var">DE.DE</span></a><span> </span><a href="#local-6989586621679126261"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#evalTs"><span class="hs-identifier hs-var">CT.evalTs</span></a><span> </span><a href="#local-6989586621679126261"><span class="hs-identifier hs-var">ts</span></a><span> </span><a href="#local-6989586621679126260"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-78"></a><span>        </span><a name="local-6989586621679126259"><a href="#local-6989586621679126259"><span class="hs-identifier">sync</span></a></a><span> </span><a name="local-6989586621679126262"><a href="#local-6989586621679126262"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679126263"><a href="#local-6989586621679126263"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679126264"><a href="#local-6989586621679126264"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679126264"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="ForSyDe.Atom.MoC.html#-.-"><span class="hs-operator hs-var">-.-</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.DE.Interface.html#toCT1"><span class="hs-identifier hs-var">toCT1</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span class="hs-glyph">-&gt;</span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span class="hs-glyph">-&gt;</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="ForSyDe.Atom.MoC.html#-.-"><span class="hs-operator hs-var">-.-</span></a><span> </span><a href="#local-6989586621679126262"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span> </span><a href="ForSyDe.Atom.MoC.html#-%2A-"><span class="hs-operator hs-var">-*-</span></a><span> </span><a href="#local-6989586621679126263"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-79"></a><a name="sampDE2"><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE2"><span class="hs-identifier">sampDE2</span></a></a><span> </span><a name="local-6989586621679126265"><a href="#local-6989586621679126265"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679126266"><a href="#local-6989586621679126266"><span class="hs-identifier">s1</span></a></a><span> </span><a name="local-6989586621679126267"><a href="#local-6989586621679126267"><span class="hs-identifier">s2</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126265"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126266"><span class="hs-identifier hs-var">s1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126265"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126267"><span class="hs-identifier hs-var">s2</span></a><span class="hs-special">)</span><span>
</span><a name="line-80"></a><a name="sampDE3"><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE3"><span class="hs-identifier">sampDE3</span></a></a><span> </span><a name="local-6989586621679126268"><a href="#local-6989586621679126268"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679126269"><a href="#local-6989586621679126269"><span class="hs-identifier">s1</span></a></a><span> </span><a name="local-6989586621679126270"><a href="#local-6989586621679126270"><span class="hs-identifier">s2</span></a></a><span> </span><a name="local-6989586621679126271"><a href="#local-6989586621679126271"><span class="hs-identifier">s3</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126268"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126269"><span class="hs-identifier hs-var">s1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126268"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126270"><span class="hs-identifier hs-var">s2</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126268"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126271"><span class="hs-identifier hs-var">s3</span></a><span class="hs-special">)</span><span>
</span><a name="line-81"></a><a name="sampDE4"><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE4"><span class="hs-identifier">sampDE4</span></a></a><span> </span><a name="local-6989586621679126272"><a href="#local-6989586621679126272"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679126273"><a href="#local-6989586621679126273"><span class="hs-identifier">s1</span></a></a><span> </span><a name="local-6989586621679126274"><a href="#local-6989586621679126274"><span class="hs-identifier">s2</span></a></a><span> </span><a name="local-6989586621679126275"><a href="#local-6989586621679126275"><span class="hs-identifier">s3</span></a></a><span> </span><a name="local-6989586621679126276"><a href="#local-6989586621679126276"><span class="hs-identifier">s4</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126272"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126273"><span class="hs-identifier hs-var">s1</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126272"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126274"><span class="hs-identifier hs-var">s2</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126272"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126275"><span class="hs-identifier hs-var">s3</span></a><span class="hs-special">,</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#sampDE1"><span class="hs-identifier hs-var">sampDE1</span></a><span> </span><a href="#local-6989586621679126272"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679126276"><span class="hs-identifier hs-var">s4</span></a><span class="hs-special">)</span><span>
</span><a name="line-82"></a><span>
</span><a name="line-83"></a><span>
</span><a name="line-84"></a><span class="hs-comment">-- Towards skeleton layer</span><span>
</span><a name="line-85"></a><span>
</span><a name="line-86"></a><span class="hs-comment">-- | Synchronizes all the signals contained by a vector and zips them</span><span>
</span><a name="line-87"></a><span class="hs-comment">-- into one signal of vectors. It instantiates the</span><span>
</span><a name="line-88"></a><span class="hs-comment">-- 'ForSyDe.Atom.Skeleton.Vector.zipx' skeleton.</span><span>
</span><a name="line-89"></a><span class="hs-comment">--</span><span>
</span><a name="line-90"></a><span class="hs-comment">-- &gt;&gt;&gt; let s1 = CT.signal [(0,const 1), (2,const 2), (6,const 3)]</span><span>
</span><a name="line-91"></a><span class="hs-comment">-- &gt;&gt;&gt; let s2 = CT.signal [(0,const 1), (2,const 2), (4,const 3)]</span><span>
</span><a name="line-92"></a><span class="hs-comment">-- &gt;&gt;&gt; let v1 = V.vector [s1,s1,s2,s2]</span><span>
</span><a name="line-93"></a><span class="hs-comment">-- &gt;&gt;&gt; zipx v1</span><span>
</span><a name="line-94"></a><span class="hs-comment">-- { &lt;1,1,1,1&gt; @0s, &lt;2,2,2,2&gt; @2s, &lt;2,2,3,3&gt; @4s, &lt;3,3,3,3&gt; @6s}</span><span>
</span><a name="line-95"></a><span class="hs-comment">--</span><span>
</span><a name="line-96"></a><span class="hs-comment">-- See 'ForSyDe.Atom.MoC.DE.zipx' from the &quot;ForSyDe.Atom.MoC.DE&quot;</span><span>
</span><a name="line-97"></a><span class="hs-comment">-- library for a comprehensive visual example.</span><span>
</span><a name="line-98"></a><span class="hs-identifier">zipx</span><span> </span><span class="hs-glyph">::</span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126237"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><a href="#local-6989586621679126237"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-99"></a><a name="zipx"><a href="ForSyDe.Atom.MoC.CT.Interface.html#zipx"><span class="hs-identifier">zipx</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Interface.html#zipx"><span class="hs-identifier hs-var">V.zipx</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Skeleton.Vector.Lib.html#fanout"><span class="hs-identifier hs-var">V.fanout</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679126277"><a href="#local-6989586621679126277"><span class="hs-identifier">cat</span></a></a><span> </span><a name="local-6989586621679126278"><a href="#local-6989586621679126278"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679126279"><a href="#local-6989586621679126279"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679126278"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-special">`</span><a href="#local-6989586621679126277"><span class="hs-identifier hs-var">cat</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679126279"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span class="hs-comment">-- | Unzips the vectors carried by a signal into a vector of</span><span>
</span><a name="line-102"></a><span class="hs-comment">-- signals. It instantiates the 'ForSyCt.Atom.Skeleton.Vector.unzipx'</span><span>
</span><a name="line-103"></a><span class="hs-comment">-- skeleton. To avoid infinite recurrence, the user needs to provict</span><span>
</span><a name="line-104"></a><span class="hs-comment">-- the length of the output vector.</span><span>
</span><a name="line-105"></a><span class="hs-comment">--</span><span>
</span><a name="line-106"></a><span class="hs-comment">-- &gt;&gt;&gt; let v1 = V.vector [1,2,3,4]</span><span>
</span><a name="line-107"></a><span class="hs-comment">-- &gt;&gt;&gt; let s1 = CT.signal [(0,const v1),(2,const v1),(6,const v1)]</span><span>
</span><a name="line-108"></a><span class="hs-comment">-- &gt;&gt;&gt; unzipx 4 s1</span><span>
</span><a name="line-109"></a><span class="hs-comment">-- &lt;{ 4 @0s, 4 @2s, 4 @6s},{ 3 @0s, 3 @2s, 3 @6s},{ 2 @0s, 2 @2s, 2 @6s},{ 1 @0s, 1 @2s, 1 @6s}&gt;</span><span>
</span><a name="line-110"></a><span class="hs-comment">--</span><span>
</span><a name="line-111"></a><span class="hs-comment">-- See 'ForSyDe.Atom.MoC.DE.unzipx' from the &quot;ForSyDe.Atom.MoC.DE&quot;</span><span>
</span><a name="line-112"></a><span class="hs-comment">-- library for a comprehensive visual example.</span><span>
</span><a name="line-113"></a><span class="hs-identifier">unzipx</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><a href="#local-6989586621679126236"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126236"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-114"></a><a name="unzipx"><a href="ForSyDe.Atom.MoC.CT.Interface.html#unzipx"><span class="hs-identifier">unzipx</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Interface.html#unzipx"><span class="hs-identifier hs-var">V.unzipx</span></a><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-115"></a><span>
</span><a name="line-116"></a><span class="hs-comment">-- | Same as 'unzipx', but \&quot;sniffs\&quot; the first event to determine the length of the output vector. Might have unsafe behavior!</span><span>
</span><a name="line-117"></a><span class="hs-comment">--</span><span>
</span><a name="line-118"></a><span class="hs-comment">-- &gt;&gt;&gt; let v1 = V.vector [1,2,3,4]</span><span>
</span><a name="line-119"></a><span class="hs-comment">-- &gt;&gt;&gt; let s1 = CT.signal [(0,const v1),(2,const v1),(6,const v1)]</span><span>
</span><a name="line-120"></a><span class="hs-comment">-- &gt;&gt;&gt; unzipx' s1</span><span>
</span><a name="line-121"></a><span class="hs-comment">-- &lt;{ 4 @0s, 4 @2s, 4 @6s},{ 3 @0s, 3 @2s, 3 @6s},{ 2 @0s, 2 @2s, 2 @6s},{ 1 @0s, 1 @2s, 1 @6s}&gt;</span><span>
</span><a name="line-122"></a><span class="hs-identifier">unzipx'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><a href="#local-6989586621679126235"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="ForSyDe.Atom.Skeleton.Vector.Core.html#Vector"><span class="hs-identifier hs-type">V.Vector</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.MoC.CT.Core.html#Signal"><span class="hs-identifier hs-type">CT.Signal</span></a><span> </span><a href="#local-6989586621679126235"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-123"></a><a name="unzipx%27"><a href="ForSyDe.Atom.MoC.CT.Interface.html#unzipx%27"><span class="hs-identifier">unzipx'</span></a></a><span> </span><a name="local-6989586621679126280"><a href="#local-6989586621679126280"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a name="local-6989586621679126281"><a href="#local-6989586621679126281"><span class="hs-identifier">a</span></a></a><a href="ForSyDe.Atom.MoC.Stream.html#%3A-"><span class="hs-operator hs-var">:-</span></a><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Interface.html#unzipx"><span class="hs-identifier hs-var">unzipx</span></a><span> </span><span class="hs-special">(</span><a href="ForSyDe.Atom.Skeleton.Vector.Lib.html#length"><span class="hs-identifier hs-var">V.length</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="ForSyDe.Atom.MoC.CT.Core.html#evalEv"><span class="hs-identifier hs-var">CT.evalEv</span></a><span> </span><a href="#local-6989586621679126281"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679126280"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-124"></a></pre></body></html>